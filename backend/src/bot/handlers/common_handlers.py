from aiogram import Router, F
from aiogram.types import Message
from aiogram.filters import Command
from aiogram.fsm.context import FSMContext
from sqlalchemy.ext.asyncio import AsyncSession
from db.qa_models import User

import logging

logger = logging.getLogger(__name__)

router = Router()

@router.message(Command("start"))
async def cmd_start(message: Message, state: FSMContext, db: AsyncSession, is_pharmacist: bool, pharmacist: object):
    """–£–ª—É—á—à–µ–Ω–Ω—ã–π —Å—Ç–∞—Ä—Ç —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–Ω–±–æ–∞—Ä–¥–∏–Ω–≥–æ–º"""
    await state.clear()

    if is_pharmacist and pharmacist:
        status_text = "üü¢ –û–Ω–ª–∞–π–Ω" if pharmacist.is_online else "üî¥ –û—Ñ–ª–∞–π–Ω"
        pharmacy_name = pharmacist.pharmacy_info.get('name', '–ù–µ —É–∫–∞–∑–∞–Ω–∞')

        await message.answer(
            f"üë®‚Äç‚öïÔ∏è <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø–∞–Ω–µ–ª—å —Ñ–∞—Ä–º–∞—Ü–µ–≤—Ç–∞!</b>\n\n"
            f"üìä <b>–í–∞—à —Å—Ç–∞—Ç—É—Å:</b> {status_text}\n"
            f"üè• <b>–ê–ø—Ç–µ–∫–∞:</b> {pharmacy_name}\n\n"
            "üí° <b>–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>\n"
            "‚Ä¢ /online - –ø–µ—Ä–µ–π—Ç–∏ –≤ –æ–Ω–ª–∞–π–Ω –∏ –Ω–∞—á–∞—Ç—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã\n"
            "‚Ä¢ /offline - –ø–µ—Ä–µ–π—Ç–∏ –≤ –æ—Ñ–ª–∞–π–Ω –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–µ–º –≤–æ–ø—Ä–æ—Å–æ–≤\n"
            "‚Ä¢ /questions - –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –æ–∂–∏–¥–∞—é—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤\n"
            "‚Ä¢ /my_questions - –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –æ—Ç–≤–µ—Ç–∏–ª–∏\n"
            "‚Ä¢ /status - –ø–æ–∫–∞–∑–∞—Ç—å –≤–∞—à —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å\n"
            "‚Ä¢ /help - –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—É—é —Å–ø—Ä–∞–≤–∫—É –ø–æ –≤—Å–µ–º –∫–æ–º–∞–Ω–¥–∞–º\n\n"
            "üìù <b>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</b>\n"
            "1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –æ–Ω–ª–∞–π–Ω —Å –ø–æ–º–æ—â—å—é /online\n"
            "2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞–¥–∞—é—Ç –≤–æ–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É /ask\n"
            "3. –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö\n"
            "4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /questions –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤–æ–ø—Ä–æ—Å–æ–≤\n"
            "5. –ù–∞–∂–∏–º–∞–π—Ç–µ ¬´–û—Ç–≤–µ—Ç–∏—Ç—å¬ª –∏ –ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç\n"
            "6. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç –≤–∞—à –æ—Ç–≤–µ—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≤–∞—Å",
            parse_mode="HTML"
        )
    else:
        await message.answer(
            "üëã <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Novamedika Q&A Bot!</b>\n\n"
            "–Ø –ø–æ–º–æ–≥—É –≤–∞–º –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –æ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ñ–∞—Ä–º–∞—Ü–µ–≤—Ç–æ–≤.\n\n"
            "üí° <b>–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>\n"
            "‚Ä¢ /ask - –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å —Ñ–∞—Ä–º–∞—Ü–µ–≤—Ç—É\n"
            "‚Ä¢ /my_questions - –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤–∞—à–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç—ã\n"
            "‚Ä¢ /clarify - —É—Ç–æ—á–Ω–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π –≤–æ–ø—Ä–æ—Å\n"
            "‚Ä¢ /help - –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—É—é —Å–ø—Ä–∞–≤–∫—É\n\n"
            "üìù <b>–ö–∞–∫ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å?</b>\n"
            "1. –ù–∞–∂–º–∏—Ç–µ /ask\n"
            "2. –ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å –ø–æ–¥—Ä–æ–±–Ω–æ\n"
            "3. –§–∞—Ä–º–∞—Ü–µ–≤—Ç—ã –ø–æ–ª—É—á–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ\n"
            "4. –í—ã –ø–æ–ª—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ñ–∞—Ä–º–∞—Ü–µ–≤—Ç–µ\n"
            "5. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ /clarify\n\n"
            "‚è∞ <b>–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞:</b>\n"
            "–§–∞—Ä–º–∞—Ü–µ–≤—Ç—ã –æ—Ç–≤–µ—á–∞—é—Ç –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è. –û–±—ã—á–Ω–æ –æ—Ç–≤–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 —á–∞—Å–æ–≤.",
            parse_mode="HTML"
        )

@router.message(Command("help"))
async def cmd_help(message: Message, is_pharmacist: bool):
    """–ü–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º"""
    if is_pharmacist:
        await message.answer(
            "üë®‚Äç‚öïÔ∏è <b>–ü–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –¥–ª—è —Ñ–∞—Ä–º–∞—Ü–µ–≤—Ç–∞</b>\n\n"
            "üìã <b>–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>\n"
            "‚Ä¢ /online - –Ω–∞—á–∞—Ç—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã (–ø–µ—Ä–µ–π—Ç–∏ –≤ –æ–Ω–ª–∞–π–Ω)\n"
            "‚Ä¢ /offline - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–µ–º –≤–æ–ø—Ä–æ—Å–æ–≤ (–ø–µ—Ä–µ–π—Ç–∏ –≤ –æ—Ñ–ª–∞–π–Ω)\n"
            "‚Ä¢ /questions - –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –æ–∂–∏–¥–∞—é—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤\n"
            "‚Ä¢ /my_questions - –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –æ—Ç–≤–µ—Ç–∏–ª–∏\n"
            "‚Ä¢ /status - –≤–∞—à —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞\n"
            "‚Ä¢ /cancel - –æ—Ç–º–µ–Ω–∞ —Ç–µ–∫—É—â–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è\n\n"
            "üîÑ <b>–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã:</b>\n"
            "1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –æ–Ω–ª–∞–π–Ω (/online)\n"
            "2. –ü–æ–ª—É—á–∞–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö\n"
            "3. –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã (/questions)\n"
            "4. –ù–∞–∂–∏–º–∞–π—Ç–µ ¬´–û—Ç–≤–µ—Ç–∏—Ç—å¬ª –ø–æ–¥ –≤–æ–ø—Ä–æ—Å–æ–º\n"
            "5. –ü–∏—à–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç–≤–µ—Ç\n"
            "6. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç –æ—Ç–≤–µ—Ç —Å –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏\n\n"
            "üí° <b>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</b>\n"
            "‚Ä¢ –û—Ç–≤–µ—á–∞–π—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ\n"
            "‚Ä¢ –£–∫–∞–∑—ã–≤–∞–π—Ç–µ –¥–æ–∑–∏—Ä–æ–≤–∫–∏ –∏ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω–∏—è\n"
            "‚Ä¢ –ü—Ä–µ–¥–ª–∞–≥–∞–π—Ç–µ –∞–Ω–∞–ª–æ–≥–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏\n"
            "‚Ä¢ –ë—É–¥—å—Ç–µ –≤–µ–∂–ª–∏–≤—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏",
            parse_mode="HTML"
        )
    else:
        await message.answer(
            "üëã <b>–ü–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</b>\n\n"
            "üìã <b>–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>\n"
            "‚Ä¢ /ask - –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å —Ñ–∞—Ä–º–∞—Ü–µ–≤—Ç—É\n"
            "‚Ä¢ /my_questions - –∏—Å—Ç–æ—Ä–∏—è –≤–∞—à–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤\n"
            "‚Ä¢ /clarify - —É—Ç–æ—á–Ω–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π –≤–æ–ø—Ä–æ—Å\n"
            "‚Ä¢ /cancel - –æ—Ç–º–µ–Ω–∞ —Ç–µ–∫—É—â–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è\n\n"
            "‚ùì <b>–ö–∞–∫ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å?</b>\n"
            "1. –ù–∞–∂–º–∏—Ç–µ /ask\n"
            "2. –ü–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—à–∏—Ç–µ –≤–∞—à—É –ø—Ä–æ–±–ª–µ–º—É:\n"
            "   - –°–∏–º–ø—Ç–æ–º—ã –∏–ª–∏ –∂–∞–ª–æ–±—ã\n"
            "   - –ü—Ä–∏–Ω–∏–º–∞–µ–º—ã–µ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞\n"
            "   - –ê–ª–ª–µ—Ä–≥–∏–∏ –∏–ª–∏ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω–∏—è\n"
            "   - –í–æ–∑—Ä–∞—Å—Ç –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∑–¥–æ—Ä–æ–≤—å—è\n"
            "3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤–æ–ø—Ä–æ—Å\n"
            "4. –û–∂–∏–¥–∞–π—Ç–µ –æ—Ç–≤–µ—Ç–∞ —Ñ–∞—Ä–º–∞—Ü–µ–≤—Ç–∞\n\n"
            "üíä <b>–ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –≤ –æ—Ç–≤–µ—Ç–µ?</b>\n"
            "‚Ä¢ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é\n"
            "‚Ä¢ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞—Ä–º–∞—Ü–µ–≤—Ç–µ (–∞–ø—Ç–µ–∫–∞, –æ–ø—ã—Ç)\n"
            "‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–µ–ø–∞—Ä–∞—Ç–∞–º\n"
            "‚Ä¢ –ü—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω–∏—è –∏ –¥–æ–∑–∏—Ä–æ–≤–∫–∏\n\n"
            "üîÑ <b>–ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –Ω–µ–ø–æ–ª–Ω—ã–π:</b>\n"
            "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /clarify –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è",
            parse_mode="HTML"
        )

@router.message(Command("cancel"))
async def universal_cancel(message: Message, state: FSMContext):
    """–û—Ç–º–µ–Ω–∞ —Ç–µ–∫—É—â–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è"""
    logger.info(f"Command /cancel from user {message.from_user.id}")

    current_state = await state.get_state()
    if current_state is None:
        await message.answer("‚ùå –ù–µ—á–µ–≥–æ –æ—Ç–º–µ–Ω—è—Ç—å.")
        return

    await state.clear()
    await message.answer("‚úÖ –¢–µ–∫—É—â–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ.")

# –ü–ï–†–ï–ú–ï–°–¢–ò–¢–¨ –≠–¢–û–¢ –û–ë–†–ê–ë–û–¢–ß–ò–ö –í –°–ê–ú–´–ô –ö–û–ù–ï–¶
@router.message(F.command)
async def unknown_command(message: Message):
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ - –î–û–õ–ñ–ï–ù –ë–´–¢–¨ –ü–û–°–õ–ï–î–ù–ò–ú"""
    logger.info(f"Unknown command from user {message.from_user.id}: {message.text}")
    await message.answer(
        "‚ùå –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞.\n\n"
        "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /help –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥."
    )


@router.message(F.text)
async def handle_user_message(
    message: Message,
    state: FSMContext,
    db: AsyncSession,
    is_pharmacist: bool,
    pharmacist: object,
    user: User
):
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –±–µ–∑ –∫–æ–º–∞–Ω–¥ - —É–ª—É—á—à–µ–Ω–Ω—ã–π –æ–Ω–±–æ–∞—Ä–¥–∏–Ω–≥"""

    # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∫–æ–º–∞–Ω–¥—ã
    if message.text.startswith('/'):
        return

    current_state = await state.get_state()

    # –ï—Å–ª–∏ –µ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ - –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∑–¥–µ—Å—å
    if current_state is not None:
        logger.debug(f"Message in state {current_state} ignored by handle_user_message, user: {message.from_user.id}")
        return

    logger.info(f"Handle user message from {message.from_user.id} with no state, user: {user.uuid}")

    # –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    if is_pharmacist and pharmacist:
        status_text = "üü¢ –æ–Ω–ª–∞–π–Ω" if pharmacist.is_online else "üî¥ –æ—Ñ–ª–∞–π–Ω"
        await message.answer(
            f"üë®‚Äç‚öïÔ∏è <b>–ü–∞–Ω–µ–ª—å —Ñ–∞—Ä–º–∞—Ü–µ–≤—Ç–∞</b>\n\n"
            f"–í–∞—à —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: <b>{status_text}</b>\n\n"
            "üí° <b>–ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>\n"
            "‚Ä¢ /online - –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã\n"
            "‚Ä¢ /questions - —Å–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤\n"
            "‚Ä¢ /status - –≤–∞—à —Å—Ç–∞—Ç—É—Å\n"
            "‚Ä¢ /help - –ø–æ–ª–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞\n\n"
            "–ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –æ–Ω–ª–∞–π–Ω!",
            parse_mode="HTML"
        )
    else:
        await message.answer(
            "üëã <b>Novamedika Q&A Bot</b>\n\n"
            "–Ø –ø–æ–º–æ–≥—É –≤–∞–º –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é —Ñ–∞—Ä–º–∞—Ü–µ–≤—Ç–∞.\n\n"
            "üí° <b>–ß—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å:</b>\n"
            "1. –ù–∞–∂–º–∏—Ç–µ /ask\n"
            "2. –û–ø–∏—à–∏—Ç–µ –≤–∞—à—É –ø—Ä–æ–±–ª–µ–º—É\n"
            "3. –ü–æ–ª—É—á–∏—Ç–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç\n\n"
            "üìã <b>–î—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã:</b>\n"
            "‚Ä¢ /my_questions - –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã\n"
            "‚Ä¢ /help - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è\n\n"
            "–§–∞—Ä–º–∞—Ü–µ–≤—Ç—ã –æ—Ç–≤–µ—Ç—è—Ç –≤–∞–º –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è! üïí",
            parse_mode="HTML"
        )
